(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{4466:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create-sample",function(){return r(9865)}])},6568:function(e,t,r){"use strict";let s=r(7066).Z.create({baseURL:"http://localhost:3004/api",headers:{"Content-Type":"application/json"}});s.interceptors.response.use(e=>e,e=>{var t;return console.error("API Error:",(null===(t=e.response)||void 0===t?void 0:t.data)||e.message),Promise.reject(e)}),t.Z={getAllSamples:async()=>{try{return(await s.get("/samples")).data}catch(e){throw console.error("Error fetching samples:",e),e}},getSampleById:async e=>{try{return(await s.get("/samples/".concat(e))).data}catch(t){throw console.error("Error fetching sample ".concat(e,":"),t),t}},createSample:async e=>{try{console.log("Sending sample data:",JSON.stringify(e));let t=JSON.parse(JSON.stringify(e));"number"!=typeof t.price&&(t.price=Number(t.price)||.01),"number"!=typeof t.quantity&&(t.quantity=Number(t.quantity)||0),t.images&&t.images.length>0&&(t.images=t.images.map(e=>({name:e.name,preview:e.preview}))),console.log("After conversion:",JSON.stringify(t));let r=setTimeout(()=>{throw console.error("API request timeout after 30 seconds"),Error("Request timeout - server took too long to respond")},3e4);try{let e=await s.post("/samples",t);return clearTimeout(r),e.data}catch(e){throw clearTimeout(r),console.error("API error details:",e),e.response&&(console.error("Response status:",e.response.status),console.error("Response data:",e.response.data)),e}}catch(e){throw console.error("Error creating sample:",e),e}},updateSample:async(e,t)=>{try{return(await s.put("/samples/".concat(e),t)).data}catch(t){throw console.error("Error updating sample ".concat(e,":"),t),t}},deleteSample:async e=>{try{return(await s.delete("/samples/".concat(e))).data}catch(t){throw console.error("Error deleting sample ".concat(e,":"),t),t}}}},5439:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var s=r(5893),a=r(7294),n=r(1508),l=r(5774),o=r(9726),i=r(9857);let c=r(3454).env.NEXT_PUBLIC_PRODUCTION_URL||"https://yourdomain.com",d=()=>"localhost"===window.location.hostname,m=()=>d()?window.location.origin:c,u=e=>"".concat(m(),"/samples/").concat(e);var p=e=>{let{styleId:t,size:r=200}=e,[c,d]=(0,a.useState)({show:!1,message:"",type:"success"}),m=(0,a.useRef)(null),p=u(t);return c.show&&setTimeout(()=>{d({...c,show:!1})},3e3),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-center text-gray-800 mb-4",children:"QR Code"}),(0,s.jsx)("div",{className:"flex justify-center p-4 bg-white border border-gray-100 rounded-lg",ref:m,children:(0,s.jsx)(n.tv,{value:p,size:r,level:"H",includeMargin:!0,imageSettings:{src:"/logo.png",excavate:!0,height:24,width:24}})}),(0,s.jsx)("p",{className:"text-sm text-center text-gray-500 mt-3",children:"Scan to view sample details"})]}),(0,s.jsxs)("div",{className:"px-4 pb-5 pt-2 flex flex-col gap-3",children:[(0,s.jsxs)("button",{onClick:()=>{let e=document.createElement("canvas"),s=m.current.querySelector("svg"),a=new XMLSerializer().serializeToString(s),n=new Image;n.onload=()=>{e.width=r,e.height=r;let s=e.getContext("2d");s.fillStyle="#ffffff",s.fillRect(0,0,e.width,e.height),s.drawImage(n,0,0);let a=e.toDataURL("image/png"),l=document.createElement("a");l.download="sample-".concat(t,".png"),l.href=a,l.click(),d({show:!0,message:"QR Code downloaded successfully",type:"success"})},n.src="data:image/svg+xml;base64,".concat(btoa(a))},className:"w-full flex items-center justify-center gap-2 bg-primary-600 text-white py-3 px-4 rounded-lg hover:bg-primary-700 transition-colors",children:[(0,s.jsx)(l.Z,{fontSize:"small"}),(0,s.jsx)("span",{className:"font-medium",children:"Download"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("button",{onClick:()=>{let e=window.open("","_blank"),r=m.current.querySelector("svg"),s=new XMLSerializer().serializeToString(r);e.document.write("\n      <html>\n        <head>\n          <title>Print QR Code - ".concat(t,'</title>\n          <style>\n            body {\n              display: flex;\n              flex-direction: column;\n              align-items: center;\n              justify-content: center;\n              height: 100vh;\n              margin: 0;\n              padding: 20px;\n              box-sizing: border-box;\n              font-family: Arial, sans-serif;\n            }\n            .qr-container {\n              display: flex;\n              flex-direction: column;\n              align-items: center;\n              padding: 20px;\n              border: 1px solid #ddd;\n              border-radius: 8px;\n            }\n            .style-id {\n              margin-top: 12px;\n              font-size: 18px;\n              font-weight: bold;\n            }\n            @media print {\n              .no-print {\n                display: none;\n              }\n            }\n          </style>\n        </head>\n        <body>\n          <div class="qr-container">\n            ').concat(s,'\n            <div class="style-id">Style ID: ').concat(t,'</div>\n          </div>\n          <p class="no-print" style="margin-top: 20px;">\n            <button onclick="window.print();window.close();">Print</button>\n          </p>\n        </body>\n      </html>\n    ')),e.document.close()},className:"flex items-center justify-center gap-2 border border-gray-300 py-3 px-3 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,s.jsx)(o.Z,{fontSize:"small"}),(0,s.jsx)("span",{className:"font-medium",children:"Print"})]}),(0,s.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(p).then(()=>{d({show:!0,message:"URL copied to clipboard",type:"success"})},e=>{d({show:!0,message:"Failed to copy URL",type:"error"}),console.error("Could not copy text: ",e)})},className:"flex items-center justify-center gap-2 border border-gray-300 py-3 px-3 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,s.jsx)(i.Z,{fontSize:"small"}),(0,s.jsx)("span",{className:"font-medium",children:"Copy URL"})]})]})]}),c.show&&(0,s.jsx)("div",{className:"fixed bottom-4 right-4 p-4 rounded-md shadow-lg ".concat("success"===c.type?"bg-green-50 text-green-800 border-l-4 border-green-500":"bg-red-50 text-red-800 border-l-4 border-red-500"," z-50 transition-all"),children:c.message})]})}},9865:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var s=r(5893),a=r(7294),n=r(1163);let l=a.forwardRef(function(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}),o=a.forwardRef(function(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}),i=a.forwardRef(function(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}),c=a.forwardRef(function(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}),d=a.forwardRef(function(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}),m=a.forwardRef(function(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))});var u=e=>{let{images:t=[],onChange:r,maxImages:n=5}=e,[l,o]=(0,a.useState)(!1),[i,u]=(0,a.useState)(null),[p,g]=(0,a.useState)(!1),h=(0,a.useRef)(null),x=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?o(!0):"dragleave"===e.type&&o(!1)},b=e=>{if(u(null),g(!0),t.length+e.length>n){u("You can only upload a maximum of ".concat(n," images")),g(!1);return}let s=[],a=[];if(Array.from(e).forEach(e=>{if(!e.type.match("image.*")){a.push("".concat(e.name," is not a valid image file"));return}if(e.size>5242880){a.push("".concat(e.name," exceeds 5MB size limit"));return}s.push(e)}),a.length>0){u(a.join(", ")),g(!1);return}let l=[...t];Promise.all(s.map(e=>new Promise(t=>{let r=new FileReader;r.onload=r=>{let s=new Image;s.onload=()=>{let r=document.createElement("canvas"),a=s.width,n=s.height;a>1200&&(n=Math.round(1200/a*n),a=1200),n>1200&&(a=Math.round(1200/n*a),n=1200),r.width=a,r.height=n,r.getContext("2d").drawImage(s,0,0,a,n);let o=r.toDataURL("image/jpeg",.7);l.push({file:e,preview:o,name:e.name}),t()},s.src=r.target.result},r.readAsDataURL(e)}))).then(()=>{r(l),g(!1)})},f=e=>{let s=[...t];s.splice(e,1),r(s)},y=()=>{var e;null===(e=h.current)||void 0===e||e.click()};return(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Images"}),i&&(0,s.jsx)("div",{className:"mb-3 p-3 bg-red-50 border-l-4 border-red-500 text-red-700 text-sm",children:i}),(0,s.jsxs)("div",{className:"p-5 border-2 border-dashed rounded-lg flex flex-col items-center justify-center min-h-[160px] cursor-pointer transition-colors ".concat(l?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-primary-400 hover:bg-gray-50"),onClick:y,onDragEnter:x,onDragLeave:x,onDragOver:x,onDrop:e=>{var t;e.preventDefault(),e.stopPropagation(),o(!1),(null===(t=e.dataTransfer.files)||void 0===t?void 0:t.length)&&b(e.dataTransfer.files)},children:[(0,s.jsx)("input",{ref:h,type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:e=>{e.preventDefault();let t=e.target.files;(null==t?void 0:t.length)&&b(t)}}),(0,s.jsx)(d,{className:"h-10 w-10 text-primary-500 mb-3"}),(0,s.jsx)("p",{className:"text-base text-center mb-1",children:"Drag & drop images here, or click to browse"}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 text-center",children:["PNG, JPG, JPEG or GIF (max. ",n," images, 5MB each)"]}),p&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-80",children:(0,s.jsx)("div",{className:"w-10 h-10 border-t-4 border-primary-500 border-solid rounded-full animate-spin"})})]}),t.length>0&&(0,s.jsxs)("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:[t.map((e,t)=>(0,s.jsxs)("div",{className:"relative group aspect-square rounded-lg overflow-hidden border border-gray-200",children:[(0,s.jsx)("img",{src:e.preview,alt:e.name||"Image ".concat(t+1),className:"w-full h-full object-cover"}),(0,s.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),f(t)},className:"absolute top-1 right-1 bg-black bg-opacity-60 text-white rounded-full p-1.5 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,s.jsx)(c,{className:"h-4 w-4"})})]},t)),t.length<n&&(0,s.jsxs)("div",{className:"aspect-square border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-primary-400 hover:bg-gray-50 transition-colors",onClick:y,children:[(0,s.jsx)(m,{className:"h-8 w-8 text-gray-400 mb-1"}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"Add more"})]})]})]})},p=e=>{let{onSubmit:t,initialData:r={},isEditing:n=!1}=e,[d,m]=(0,a.useState)({style_id:r.style_id||"",price:r.price||"",quantity:r.quantity||"",available_colors:r.available_colors||[],fabric_weight:r.fabric_weight||"",fabric_composition:r.fabric_composition||"",images:r.images||[]}),[p,g]=(0,a.useState)(""),[h,x]=(0,a.useState)({}),[b,f]=(0,a.useState)(!1),y=e=>{let{name:t,value:r}=e.target;m({...d,[t]:r}),h[t]&&x({...h,[t]:""})},v=e=>{let{name:t,value:r}=e.target,s=""===r?"":Number(r);""!==r&&isNaN(s)||y({target:{name:t,value:s}})},w=()=>{p.trim()&&!d.available_colors.includes(p.trim())&&(m({...d,available_colors:[...d.available_colors,p.trim()]}),g(""))},j=e=>{m({...d,available_colors:d.available_colors.filter(t=>t!==e)})},N=()=>{let e={};return d.style_id.trim()||(e.style_id="Style ID is required"),x(e),0===Object.keys(e).length};return(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden max-w-3xl mx-auto",children:(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),N()&&t({...d,price:""===d.price?"":Number(d.price),quantity:""===d.quantity?"":Number(d.quantity),fabric_weight:""===d.fabric_weight?"":Number(d.fabric_weight),images:d.images.map(e=>{let{name:t="",preview:r=""}=e;return{name:t,preview:r}})})},className:"p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:n?"Edit Sample":"Add New Sample"}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("label",{htmlFor:"style_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Style ID ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{type:"text",id:"style_id",name:"style_id",value:d.style_id,onChange:y,disabled:n,className:"w-full px-4 py-3 text-lg rounded-lg border ".concat(h.style_id?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-primary-500 focus:border-primary-500"," focus:outline-none focus:ring-2"),placeholder:"Enter unique style identifier"}),h.style_id&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.style_id})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("button",{type:"button",className:"flex w-full items-center justify-between px-4 py-3 text-lg font-medium text-gray-700 bg-gray-50 rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-primary-500 transition-colors",onClick:()=>f(!b),children:[(0,s.jsx)("span",{children:"Additional Information"}),b?(0,s.jsx)(l,{className:"h-5 w-5"}):(0,s.jsx)(o,{className:"h-5 w-5"})]}),b&&(0,s.jsxs)("div",{className:"mt-4 space-y-6 px-1 pt-2",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:"Price"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-4 pointer-events-none",children:(0,s.jsx)("span",{className:"text-gray-500",children:"$"})}),(0,s.jsx)("input",{type:"number",id:"price",name:"price",value:d.price,onChange:v,className:"w-full pl-8 pr-4 py-3 text-lg rounded-lg border border-gray-300 focus:ring-primary-500 focus:border-primary-500 focus:outline-none focus:ring-2",placeholder:"0.00",step:"0.01",min:"0"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),(0,s.jsx)("input",{type:"number",id:"quantity",name:"quantity",value:d.quantity,onChange:v,className:"w-full px-4 py-3 text-lg rounded-lg border border-gray-300 focus:ring-primary-500 focus:border-primary-500 focus:outline-none focus:ring-2",placeholder:"0",min:"0"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"colorInput",className:"block text-sm font-medium text-gray-700 mb-1",children:"Available Colors"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"text",id:"colorInput",value:p,onChange:e=>g(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),w())},className:"flex-1 px-4 py-3 text-lg rounded-lg border border-gray-300 focus:ring-primary-500 focus:border-primary-500 focus:outline-none focus:ring-2",placeholder:"Add a color (e.g., Red, Blue, Black)"}),(0,s.jsx)("button",{type:"button",onClick:w,className:"px-4 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 transition-colors",children:(0,s.jsx)(i,{className:"h-5 w-5"})})]}),d.available_colors.length>0&&(0,s.jsx)("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:d.available_colors.map(e=>(0,s.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800",children:[e,(0,s.jsx)("button",{type:"button",onClick:()=>j(e),className:"ml-1.5 text-gray-500 hover:text-gray-700 focus:outline-none",children:(0,s.jsx)(c,{className:"h-4 w-4"})})]},e))})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"fabric_weight",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fabric Weight"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"number",id:"fabric_weight",name:"fabric_weight",value:d.fabric_weight,onChange:v,className:"w-full px-4 py-3 text-lg rounded-lg border border-gray-300 focus:ring-primary-500 focus:border-primary-500 focus:outline-none focus:ring-2",placeholder:"0",min:"0"}),(0,s.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,s.jsx)("span",{className:"text-gray-500",children:"g/m\xb2"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"fabric_composition",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fabric Composition"}),(0,s.jsx)("input",{type:"text",id:"fabric_composition",name:"fabric_composition",value:d.fabric_composition,onChange:y,className:"w-full px-4 py-3 text-lg rounded-lg border border-gray-300 focus:ring-primary-500 focus:border-primary-500 focus:outline-none focus:ring-2",placeholder:"e.g., 100% Cotton"})]})]}),(0,s.jsx)("div",{className:"mt-8",children:(0,s.jsx)(u,{images:d.images,onChange:e=>{m({...d,images:e})},maxImages:5})})]})]}),(0,s.jsx)("div",{className:"mt-8",children:(0,s.jsx)("button",{type:"submit",className:"w-full py-4 px-6 text-lg font-medium text-white bg-primary-600 rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-colors",children:"Create Sample"})})]})})},g=r(5439),h=r(6568),x=()=>{(0,n.useRouter)();let[e,t]=(0,a.useState)(!1),[r,l]=(0,a.useState)(null),[o,i]=(0,a.useState)(null),c=async e=>{try{if(t(!0),l(null),!e.style_id){l("Style ID is required"),t(!1);return}try{let t=await h.Z.createSample(e);t.success?i(t.data):l(t.message||"Failed to create sample. Please try again.")}catch(e){if(e.message&&e.message.includes("timeout"))l("Request timed out. The server took too long to respond. Please try again.");else if(e.response){var r;l("Server error: ".concat((null===(r=e.response.data)||void 0===r?void 0:r.message)||e.response.statusText||"Unknown error"))}else e.request?l("No response from server. Please check your connection and try again."):l("An unexpected error occurred: ".concat(e.message))}}catch(e){l("An unexpected error occurred: ".concat(e.message))}finally{t(!1)}};return(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4 pb-16",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Add New Sample"}),r&&(0,s.jsx)("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-500 rounded-md",children:(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-red-800 font-medium",children:"Error"}),(0,s.jsx)("p",{className:"text-red-700 mt-1",children:r})]}),(0,s.jsx)("button",{onClick:()=>{l(null)},className:"text-sm font-medium text-red-700 hover:text-red-900",children:"Try Again"})]})}),o?(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mb-6 p-4 bg-green-50 border-l-4 border-green-500 rounded-md",children:[(0,s.jsx)("h3",{className:"text-green-800 font-medium",children:"Success"}),(0,s.jsxs)("p",{className:"text-green-700 mt-1",children:["Sample ",o.style_id," has been created successfully!"]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden p-6 mb-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Generated QR Code"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"The QR code below can be used to access the sample information. You can download or print it for attaching to the physical sample."}),(0,s.jsxs)("div",{className:"p-4 mb-6 bg-blue-50 border-l-4 border-blue-500 rounded-md",children:[(0,s.jsx)("h3",{className:"text-blue-800 font-medium",children:"Important"}),(0,s.jsxs)("p",{className:"text-blue-700 mt-1",children:["For production use, please update the ",(0,s.jsx)("code",{className:"bg-blue-100 px-1 rounded",children:"PRODUCTION_URL"})," in ",(0,s.jsx)("code",{className:"bg-blue-100 px-1 rounded",children:"src/utils/config.js"})," to your actual domain."]}),(0,s.jsxs)("p",{className:"text-blue-700 mt-2",children:["Current QR code links to: ",window.location.origin,"/samples/",o.style_id]})]}),(0,s.jsx)("div",{className:"max-w-xs mx-auto",children:(0,s.jsx)(g.Z,{styleId:o.style_id})})]}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("button",{onClick:()=>{i(null),l(null)},className:"inline-flex items-center px-6 py-3 text-lg font-medium text-white bg-primary-600 rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-colors",children:"Create Another Sample"})})]}):(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(p,{onSubmit:c}),e&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-75 z-10 rounded-xl",children:(0,s.jsx)("div",{className:"w-16 h-16 border-t-4 border-primary-500 border-solid rounded-full animate-spin"})})]})]})}}},function(e){e.O(0,[651,66,203,888,774,179],function(){return e(e.s=4466)}),_N_E=e.O()}]);